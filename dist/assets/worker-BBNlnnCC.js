(function(){"use strict";var $={},R={},O={},C;function N(){if(C)return O;C=1,Object.defineProperty(O,"__esModule",{value:!0}),O.isInSubnet=d,O.isCorrect=E,O.numberToPaddedHex=b,O.stringToPaddedHex=_,O.testBit=f;function d(a){return this.subnetMask<a.subnetMask?!1:this.mask(a.subnetMask)===a.mask()}function E(a){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===a&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}function b(a){return a.toString(16).padStart(2,"0")}function _(a){return b(parseInt(a,10))}function f(a,h){const{length:c}=a;if(h>c)return!1;const t=c-h;return a.substring(t,t+1)==="1"}return O}var M={},H;function F(){return H||(H=1,Object.defineProperty(M,"__esModule",{value:!0}),M.RE_SUBNET_STRING=M.RE_ADDRESS=M.GROUPS=M.BITS=void 0,M.BITS=32,M.GROUPS=4,M.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,M.RE_SUBNET_STRING=/\/\d{1,2}$/),M}var x={},L;function U(){if(L)return x;L=1,Object.defineProperty(x,"__esModule",{value:!0}),x.AddressError=void 0;class d extends Error{constructor(b,_){super(b),this.name="AddressError",this.parseMessage=_}}return x.AddressError=d,x}var q;function k(){if(q)return R;q=1;var d=R&&R.__createBinding||(Object.create?function(c,t,r,o){o===void 0&&(o=r);var u=Object.getOwnPropertyDescriptor(t,r);(!u||("get"in u?!t.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(c,o,u)}:function(c,t,r,o){o===void 0&&(o=r),c[o]=t[r]}),E=R&&R.__setModuleDefault||(Object.create?function(c,t){Object.defineProperty(c,"default",{enumerable:!0,value:t})}:function(c,t){c.default=t}),b=R&&R.__importStar||function(c){if(c&&c.__esModule)return c;var t={};if(c!=null)for(var r in c)r!=="default"&&Object.prototype.hasOwnProperty.call(c,r)&&d(t,c,r);return E(t,c),t};Object.defineProperty(R,"__esModule",{value:!0}),R.Address4=void 0;const _=b(N()),f=b(F()),a=U();class h{constructor(t){this.groups=f.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=_.isCorrect(f.BITS),this.isInSubnet=_.isInSubnet,this.address=t;const r=f.RE_SUBNET_STRING.exec(t);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>f.BITS)throw new a.AddressError("Invalid subnet mask.");t=t.replace(f.RE_SUBNET_STRING,"")}this.addressMinusSuffix=t,this.parsedAddress=this.parse(t)}static isValid(t){try{return new h(t),!0}catch{return!1}}parse(t){const r=t.split(".");if(!t.match(f.RE_ADDRESS))throw new a.AddressError("Invalid IPv4 address.");return r}correctForm(){return this.parsedAddress.map(t=>parseInt(t,10)).join(".")}static fromHex(t){const r=t.replace(/:/g,"").padStart(8,"0"),o=[];let u;for(u=0;u<8;u+=2){const g=r.slice(u,u+2);o.push(parseInt(g,16))}return new h(o.join("."))}static fromInteger(t){return h.fromHex(t.toString(16))}static fromArpa(t){const o=t.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new h(o)}toHex(){return this.parsedAddress.map(t=>_.stringToPaddedHex(t)).join(":")}toArray(){return this.parsedAddress.map(t=>parseInt(t,10))}toGroup6(){const t=[];let r;for(r=0;r<f.GROUPS;r+=2)t.push(`${_.stringToPaddedHex(this.parsedAddress[r])}${_.stringToPaddedHex(this.parsedAddress[r+1])}`);return t.join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(t=>_.stringToPaddedHex(t)).join("")}`)}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(f.BITS-this.subnetMask)}`)}startAddress(){return h.fromBigInt(this._startAddress())}startAddressExclusive(){const t=BigInt("1");return h.fromBigInt(this._startAddress()+t)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(f.BITS-this.subnetMask)}`)}endAddress(){return h.fromBigInt(this._endAddress())}endAddressExclusive(){const t=BigInt("1");return h.fromBigInt(this._endAddress()-t)}static fromBigInt(t){return h.fromHex(t.toString(16))}mask(t){return t===void 0&&(t=this.subnetMask),this.getBitsBase2(0,t)}getBitsBase2(t,r){return this.binaryZeroPad().slice(t,r)}reverseForm(t){t||(t={});const r=this.correctForm().split(".").reverse().join(".");return t.omitSuffix?r:`${r}.in-addr.arpa.`}isMulticast(){return this.isInSubnet(new h("224.0.0.0/4"))}binaryZeroPad(){return this.bigInt().toString(2).padStart(f.BITS,"0")}groupForV6(){const t=this.parsedAddress;return this.address.replace(f.RE_ADDRESS,`<span class="hover-group group-v4 group-6">${t.slice(0,2).join(".")}</span>.<span class="hover-group group-v4 group-7">${t.slice(2,4).join(".")}</span>`)}}return R.Address4=h,R}var P={},S={},Z;function z(){return Z||(Z=1,Object.defineProperty(S,"__esModule",{value:!0}),S.RE_URL_WITH_PORT=S.RE_URL=S.RE_ZONE_STRING=S.RE_SUBNET_STRING=S.RE_BAD_ADDRESS=S.RE_BAD_CHARACTERS=S.TYPES=S.SCOPES=S.GROUPS=S.BITS=void 0,S.BITS=128,S.GROUPS=8,S.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},S.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},S.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,S.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,S.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,S.RE_ZONE_STRING=/%.*$/,S.RE_URL=/^\[{0,1}([0-9a-f:]+)\]{0,1}/,S.RE_URL_WITH_PORT=/\[([0-9a-f:]+)\]:([0-9]{1,5})/),S}var T={},Y;function V(){if(Y)return T;Y=1,Object.defineProperty(T,"__esModule",{value:!0}),T.spanAllZeroes=d,T.spanAll=E,T.spanLeadingZeroes=_,T.simpleGroup=f;function d(a){return a.replace(/(0+)/g,'<span class="zero">$1</span>')}function E(a,h=0){return a.split("").map((t,r)=>`<span class="digit value-${t} position-${r+h}">${d(t)}</span>`).join("")}function b(a){return a.replace(/^(0+)/,'<span class="zero">$1</span>')}function _(a){return a.split(":").map(c=>b(c)).join(":")}function f(a,h=0){return a.split(":").map((t,r)=>/group-v4/.test(t)?t:`<span class="hover-group group-${r+h}">${b(t)}</span>`)}return T}var m={},W;function ee(){if(W)return m;W=1;var d=m&&m.__createBinding||(Object.create?function(t,r,o,u){u===void 0&&(u=o);var g=Object.getOwnPropertyDescriptor(r,o);(!g||("get"in g?!r.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,u,g)}:function(t,r,o,u){u===void 0&&(u=o),t[u]=r[o]}),E=m&&m.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),b=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)&&d(r,t,o);return E(r,t),r};Object.defineProperty(m,"__esModule",{value:!0}),m.ADDRESS_BOUNDARY=void 0,m.groupPossibilities=f,m.padGroup=a,m.simpleRegularExpression=h,m.possibleElisions=c;const _=b(z());function f(t){return`(${t.join("|")})`}function a(t){return t.length<4?`0{0,${4-t.length}}${t}`:t}m.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function h(t){const r=[];t.forEach((u,g)=>{parseInt(u,16)===0&&r.push(g)});const o=r.map(u=>t.map((g,I)=>{if(I===u){const j=I===0||I===_.GROUPS-1?":":"";return f([a(g),j])}return a(g)}).join(":"));return o.push(t.map(a).join(":")),f(o)}function c(t,r,o){const u=r?"":":",g=o?"":":",I=[];!r&&!o&&I.push("::"),r&&o&&I.push(""),(o&&!r||!o&&r)&&I.push(":"),I.push(`${u}(:0{1,4}){1,${t-1}}`),I.push(`(0{1,4}:){1,${t-1}}${g}`),I.push(`(0{1,4}:){${t-1}}0{1,4}`);for(let j=1;j<t-1;j++)for(let w=1;w<t-j;w++)I.push(`(0{1,4}:){${w}}:(0{1,4}:){${t-w-j-1}}0{1,4}`);return f(I)}return m}var X;function te(){if(X)return P;X=1;var d=P&&P.__createBinding||(Object.create?function(l,e,s,i){i===void 0&&(i=s);var n=Object.getOwnPropertyDescriptor(e,s);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(l,i,n)}:function(l,e,s,i){i===void 0&&(i=s),l[i]=e[s]}),E=P&&P.__setModuleDefault||(Object.create?function(l,e){Object.defineProperty(l,"default",{enumerable:!0,value:e})}:function(l,e){l.default=e}),b=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var e={};if(l!=null)for(var s in l)s!=="default"&&Object.prototype.hasOwnProperty.call(l,s)&&d(e,l,s);return E(e,l),e};Object.defineProperty(P,"__esModule",{value:!0}),P.Address6=void 0;const _=b(N()),f=b(F()),a=b(z()),h=b(V()),c=k(),t=ee(),r=U(),o=N();function u(l){if(!l)throw new Error("Assertion failed.")}function g(l){const e=/(\d+)(\d{3})/;for(;e.test(l);)l=l.replace(e,"$1,$2");return l}function I(l){return l=l.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),l=l.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),l}function j(l,e){const s=[],i=[];let n;for(n=0;n<l.length;n++)n<e[0]?s.push(l[n]):n>e[1]&&i.push(l[n]);return s.concat(["compact"]).concat(i)}function w(l){return parseInt(l,16).toString(16).padStart(4,"0")}function Q(l){return l&255}class A{constructor(e,s){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=_.isInSubnet,this.isCorrect=_.isCorrect(a.BITS),s===void 0?this.groups=a.GROUPS:this.groups=s,this.address=e;const i=a.RE_SUBNET_STRING.exec(e);if(i){if(this.parsedSubnet=i[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>a.BITS)throw new r.AddressError("Invalid subnet mask.");e=e.replace(a.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new r.AddressError("Invalid subnet mask.");const n=a.RE_ZONE_STRING.exec(e);n&&(this.zone=n[0],e=e.replace(a.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(e){try{return new A(e),!0}catch{return!1}}static fromBigInt(e){const s=e.toString(16).padStart(32,"0"),i=[];let n;for(n=0;n<a.GROUPS;n++)i.push(s.slice(n*4,(n+1)*4));return new A(i.join(":"))}static fromURL(e){let s,i=null,n;if(e.indexOf("[")!==-1&&e.indexOf("]:")!==-1){if(n=a.RE_URL_WITH_PORT.exec(e),n===null)return{error:"failed to parse address with port",address:null,port:null};s=n[1],i=n[2]}else if(e.indexOf("/")!==-1){if(e=e.replace(/^[a-z0-9]+:\/\//,""),n=a.RE_URL.exec(e),n===null)return{error:"failed to parse address from URL",address:null,port:null};s=n[1]}else s=e;return i?(i=parseInt(i,10),(i<0||i>65536)&&(i=null)):i=null,{address:new A(s),port:i}}static fromAddress4(e){const s=new c.Address4(e),i=a.BITS-(f.BITS-s.subnetMask);return new A(`::ffff:${s.correctForm()}/${i}`)}static fromArpa(e){let s=e.replace(/(\.ip6\.arpa)?\.$/,"");const i=7;if(s.length!==63)throw new r.AddressError("Invalid 'ip6.arpa' form.");const n=s.split(".").reverse();for(let p=i;p>0;p--){const v=p*4;n.splice(v,0,":")}return s=n.join(""),new A(s)}microsoftTranscription(){return`${this.correctForm().replace(/:/g,"-")}.ipv6-literal.net`}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){const s=a.BITS-this.subnetMask,i=Math.abs(e-a.BITS),n=s-i;return n<0?"0":g((BigInt("2")**BigInt(n)).toString(10))}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(a.BITS-this.subnetMask)}`)}startAddress(){return A.fromBigInt(this._startAddress())}startAddressExclusive(){const e=BigInt("1");return A.fromBigInt(this._startAddress()+e)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(a.BITS-this.subnetMask)}`)}endAddress(){return A.fromBigInt(this._endAddress())}endAddressExclusive(){const e=BigInt("1");return A.fromBigInt(this._endAddress()-e)}getScope(){let e=a.SCOPES[parseInt(this.getBits(12,16).toString(10),10)];return this.getType()==="Global unicast"&&e!=="Link local"&&(e="Global"),e||"Unknown"}getType(){for(const e of Object.keys(a.TYPES))if(this.isInSubnet(new A(e)))return a.TYPES[e];return"Global unicast"}getBits(e,s){return BigInt(`0b${this.getBitsBase2(e,s)}`)}getBitsBase2(e,s){return this.binaryZeroPad().slice(e,s)}getBitsBase16(e,s){const i=s-e;if(i%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,s).toString(16).padStart(i/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,a.BITS)}reverseForm(e){e||(e={});const s=Math.floor(this.subnetMask/4),i=this.canonicalForm().replace(/:/g,"").split("").slice(0,s).reverse().join(".");return s>0?e.omitSuffix?i:`${i}.ip6.arpa.`:e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,s=[],i=0;const n=[];for(e=0;e<this.parsedAddress.length;e++){const B=parseInt(this.parsedAddress[e],16);B===0&&i++,B!==0&&i>0&&(i>1&&n.push([e-i,e-1]),i=0)}i>1&&n.push([this.parsedAddress.length-i,this.parsedAddress.length-1]);const p=n.map(B=>B[1]-B[0]+1);if(n.length>0){const B=p.indexOf(Math.max(...p));s=j(this.parsedAddress,n[B])}else s=this.parsedAddress;for(e=0;e<s.length;e++)s[e]!=="compact"&&(s[e]=parseInt(s[e],16).toString(16));let v=s.join(":");return v=v.replace(/^compact$/,"::"),v=v.replace(/(^compact)|(compact$)/,":"),v=v.replace(/compact/,""),v}binaryZeroPad(){return this.bigInt().toString(2).padStart(a.BITS,"0")}parse4in6(e){const s=e.split(":"),n=s.slice(-1)[0].match(f.RE_ADDRESS);if(n){this.parsedAddress4=n[0],this.address4=new c.Address4(this.parsedAddress4);for(let p=0;p<this.address4.groups;p++)if(/^0[0-9]+/.test(this.address4.parsedAddress[p]))throw new r.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(f.RE_ADDRESS,this.address4.parsedAddress.map(I).join(".")));this.v4=!0,s[s.length-1]=this.address4.toGroup6(),e=s.join(":")}return e}parse(e){e=this.parse4in6(e);const s=e.match(a.RE_BAD_CHARACTERS);if(s)throw new r.AddressError(`Bad character${s.length>1?"s":""} detected in address: ${s.join("")}`,e.replace(a.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));const i=e.match(a.RE_BAD_ADDRESS);if(i)throw new r.AddressError(`Address failed regex: ${i.join("")}`,e.replace(a.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let n=[];const p=e.split("::");if(p.length===2){let v=p[0].split(":"),B=p[1].split(":");v.length===1&&v[0]===""&&(v=[]),B.length===1&&B[0]===""&&(B=[]);const D=this.groups-(v.length+B.length);if(!D)throw new r.AddressError("Error parsing groups");this.elidedGroups=D,this.elisionBegin=v.length,this.elisionEnd=v.length+this.elidedGroups,n=n.concat(v);for(let G=0;G<D;G++)n.push("0");n=n.concat(B)}else if(p.length===1)n=e.split(":"),this.elidedGroups=0;else throw new r.AddressError("Too many :: groups found");if(n=n.map(v=>parseInt(v,16).toString(16)),n.length!==this.groups)throw new r.AddressError("Incorrect number of groups found");return n}canonicalForm(){return this.parsedAddress.map(w).join(":")}decimal(){return this.parsedAddress.map(e=>parseInt(e,16).toString(10).padStart(5,"0")).join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(w).join("")}`)}to4(){const e=this.binaryZeroPad().split("");return c.Address4.fromHex(BigInt(`0b${e.slice(96,128).join("")}`).toString(16))}to4in6(){const e=this.to4(),i=new A(this.parsedAddress.slice(0,6).join(":"),6).correctForm();let n="";return/:$/.test(i)||(n=":"),i+n+e.address}inspectTeredo(){const e=this.getBitsBase16(0,32),i=(this.getBits(80,96)^BigInt("0xffff")).toString(),n=c.Address4.fromHex(this.getBitsBase16(32,64)),p=this.getBits(96,128),v=c.Address4.fromHex((p^BigInt("0xffffffff")).toString(16)),B=this.getBitsBase2(64,80),D=(0,o.testBit)(B,15),G=(0,o.testBit)(B,14),ne=(0,o.testBit)(B,8),ie=(0,o.testBit)(B,9),ae=BigInt(`0b${B.slice(2,6)+B.slice(8,16)}`).toString(10);return{prefix:`${e.slice(0,4)}:${e.slice(4,8)}`,server4:n.address,client4:v.address,flags:B,coneNat:D,microsoft:{reserved:G,universalLocal:ie,groupIndividual:ne,nonce:ae},udpPort:i}}inspect6to4(){const e=this.getBitsBase16(0,16),s=c.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:e.slice(0,4),gateway:s.address}}to6to4(){if(!this.is4())return null;const e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new A(e)}toByteArray(){const e=this.bigInt().toString(16),i=`${"0".repeat(e.length%2)}${e}`,n=[];for(let p=0,v=i.length;p<v;p+=2)n.push(parseInt(i.substring(p,p+2),16));return n}toUnsignedByteArray(){return this.toByteArray().map(Q)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(Q))}static fromUnsignedByteArray(e){const s=BigInt("256");let i=BigInt("0"),n=BigInt("1");for(let p=e.length-1;p>=0;p--)i+=n*BigInt(e[p].toString(10)),n*=s;return A.fromBigInt(i)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"}isMulticast(){return this.getType()==="Multicast"}is4(){return this.v4}isTeredo(){return this.isInSubnet(new A("2001::/32"))}is6to4(){return this.isInSubnet(new A("2002::/16"))}isLoopback(){return this.getType()==="Loopback"}href(e){return e===void 0?e="":e=`:${e}`,`http://[${this.correctForm()}]${e}/`}link(e){e||(e={}),e.className===void 0&&(e.className=""),e.prefix===void 0&&(e.prefix="/#address="),e.v4===void 0&&(e.v4=!1);let s=this.correctForm;e.v4&&(s=this.to4in6);const i=s.call(this);return e.className?`<a href="${e.prefix}${i}" class="${e.className}">${i}</a>`:`<a href="${e.prefix}${i}">${i}</a>`}group(){if(this.elidedGroups===0)return h.simpleGroup(this.address).join(":");u(typeof this.elidedGroups=="number"),u(typeof this.elisionBegin=="number");const e=[],[s,i]=this.address.split("::");s.length?e.push(...h.simpleGroup(s)):e.push("");const n=["hover-group"];for(let p=this.elisionBegin;p<this.elisionBegin+this.elidedGroups;p++)n.push(`group-${p}`);return e.push(`<span class="${n.join(" ")}"></span>`),i.length?e.push(...h.simpleGroup(i,this.elisionEnd)):e.push(""),this.is4()&&(u(this.address4 instanceof c.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(e=!1){let s=[];const i=new A(this.correctForm());if(i.elidedGroups===0)s.push((0,t.simpleRegularExpression)(i.parsedAddress));else if(i.elidedGroups===a.GROUPS)s.push((0,t.possibleElisions)(a.GROUPS));else{const n=i.address.split("::");n[0].length&&s.push((0,t.simpleRegularExpression)(n[0].split(":"))),u(typeof i.elidedGroups=="number"),s.push((0,t.possibleElisions)(i.elidedGroups,n[0].length!==0,n[1].length!==0)),n[1].length&&s.push((0,t.simpleRegularExpression)(n[1].split(":"))),s=[s.join(":")]}return e||(s=["(?=^|",t.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...s,")(?=[^\\w\\:]|",t.ADDRESS_BOUNDARY,"|$)"]),s.join("")}regularExpression(e=!1){return new RegExp(this.regularExpressionString(e),"i")}}return P.Address6=A,P}var J;function re(){return J||(J=1,function(d){var E=$&&$.__createBinding||(Object.create?function(t,r,o,u){u===void 0&&(u=o);var g=Object.getOwnPropertyDescriptor(r,o);(!g||("get"in g?!r.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,u,g)}:function(t,r,o,u){u===void 0&&(u=o),t[u]=r[o]}),b=$&&$.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),_=$&&$.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)&&E(r,t,o);return b(r,t),r};Object.defineProperty(d,"__esModule",{value:!0}),d.v6=d.AddressError=d.Address6=d.Address4=void 0;var f=k();Object.defineProperty(d,"Address4",{enumerable:!0,get:function(){return f.Address4}});var a=te();Object.defineProperty(d,"Address6",{enumerable:!0,get:function(){return a.Address6}});var h=U();Object.defineProperty(d,"AddressError",{enumerable:!0,get:function(){return h.AddressError}});const c=_(V());d.v6={helpers:c}}($)),$}var y=re();function K(d){if(y.Address4.isValid(d))return BigInt(new y.Address4(d).bigInt().toString());if(y.Address6.isValid(d))return BigInt(new y.Address6(d).bigInt().toString());throw new Error("Invalid IP Address")}function se(d,E,b){const _=new RegExp(`\\s*(")?(.*?)\\1\\s*(?:${b}|$)`,"gs"),f=t=>[...t.matchAll(_)].map(r=>r[2]).slice(0,-1),a=E??f(d.shift());return d=d.slice(1),d.map(t=>f(t).reduce((r,o,u)=>{const g=a[u]??`${u}`;if(g!=="USER_AGENT"&&g!=="IP")return r;const I=o.length<=0?null:Number(o)||o;return{...r,[g.trim()]:I}},{})).filter(t=>y.Address4.isValid(t.IP)).sort((t,r)=>K(t.IP)<K(r.IP)?-1:1)}addEventListener("message",d=>{const{lines:E,headers:b,separator:_,size:f}=d.data;postMessage({data:se(E,b,_),size:f})})})();
